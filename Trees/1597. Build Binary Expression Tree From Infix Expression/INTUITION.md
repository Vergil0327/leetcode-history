# Intuition

由於計算方式是由左到右, 先括號, 再乘除 然後才加減

所以觀察一下Example可發現, 我們必須由後往前掃過來
然後優先對`+`, `-`做遞歸, 然後才對`*`,`/`做遞歸, 最後才是括號

然後對於括號的處理可以看這個例子, 由於括號是最高優先級
所以在建構樹的過程中，括號我們得擺在最後處理

```
expr = "3/(5+2)+1"
樹的形式如下:
        +
    /       1
  3    +
     5   2
```

由上面例子可知我們第一次遍歷先找出`+`, `-`來進行遞歸處理，並跳過括號
找到正負號後，把左右兩邊剩下的string丟到遞歸式裡
```py
root = TreeNode("+") or TreeNode("-")
root.left = dfs(expr[:i])
root.right = dfs(expr[i+1:])
```

然後第二遍再遍歷找出`+`, `-`進行處理，並跳過括號
一樣在找到`*`, `/`後把左右兩邊分別作為左右子樹進行遞歸處理

如果上面都沒有找到正負號, 那我們在看是不是被括號所包住
- 是的話就去掉括號，然後繼續遞歸處理裡面的string
- 如果不是，那代表剩下的都是數值或空字符串，所以我們返回`TreeNode(s) if s else None`


至於再遍歷過程中，跳過括號的方法如下:
由於括號可能有多個，我們可以用`cnt`來記錄左括號跟右括號的平衡與否來決定我們是否找到相對應的括號
```py
if ch == ")":
    #  (XXXX(XXX)X)
    # j           i
    j = i-1
    cnt = 1
    while j >= 0 and cnt>0:
        if s[j] == ")":
            cnt += 1
        elif s[j] == "(":
            cnt -= 1
        j -= 1
    i = j+1
```